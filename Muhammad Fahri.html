<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derma | Donasi untuk rakyat yg membutuhkan</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* Global Reset and Typography */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f7f9fb;
            scroll-behavior: smooth;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        h2 {
            text-align: center;
            margin-bottom: 50px;
            font-weight: 800;
            color: #1a1a1a;
            position: relative;
        }

        h2::after {
            content: '';
            display: block;
            width: 50px;
            height: 4px;
            background-color: #00bcd4; /* Cyan */
            margin: 10px auto 0;
            border-radius: 2px;
        }

        section {
            padding: 80px 0;
        }
        
        /* --- Animasi CSS (Tambahan Baru) --- */
        
        /* Kelas dasar untuk elemen yang akan dianimasikan */
        .animated-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        /* Kelas saat elemen sudah terlihat (termasuk navbar) */
        .fade-in {
            opacity: 1;
            transform: translateY(0);
        }

        /* Khusus untuk Navbar, agar langsung terlihat */
        .main-header.animated-element {
            transform: translateY(-100%); /* Mulai dari atas */
        }
        
        .main-header.fade-in {
            transform: translateY(0);
        }
        
        /* Khusus untuk Hero Content */
        .hero-content {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease-out, transform 1s ease-out;
            z-index: 10;
            max-width: 800px;
        }
        
        .hero-content.fade-in {
             opacity: 1;
             transform: translateY(0);
        }
        
        /* --- Header & Navigation --- */
        .main-header {
            background-color: white;
            padding: 12px 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .main-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            color: #00bcd4;
            font-size: 2em;
            font-weight: 800;
        }

        nav ul {
            list-style: none;
            display: flex;
            align-items: center;
        }

        nav ul li {
            margin-left: 30px;
        }

        nav a:not(.cta-header) {
            text-decoration: none;
            color: #555;
            font-weight: 600;
            position: relative;
            transition: color 0.3s, text-shadow 0.3s;
        }

        /* Penambahan Hover Navigasi Biasa */
        nav a:not(.cta-header):hover {
            color: #00bcd4; 
            text-shadow: 0 0 1px rgba(0, 188, 212, 0.5);
        }
        
        .cta-header {
            background-color: #ff9800;
            color: white;
            padding: 10px 20px;
            border-radius: 5px; 
            text-decoration: none;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
            border: none;
            cursor: pointer;
        }

        /* Penambahan Hover CTA Header */
        .cta-header:hover {
            background-color: #fb8c00; 
            transform: translateY(-1px); 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* --- Hero Section --- */
        .hero {
            position: relative;
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            color: white;
        }
        
        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(0, 188, 212, 0.7), rgba(255, 152, 0, 0.7)), url('https://via.placeholder.com/1500x700/00bcd4/FFFFFF?text=Charity+Background');
            background-size: cover;
            background-position: center;
            z-index: 1;
        }
        
        .cta-hero {
            background-color: #ff9800;
            color: white;
            padding: 15px 35px;
            border-radius: 5px; 
            font-size: 1.2em;
            font-weight: 700;
            transition: background-color 0.3s, box-shadow 0.3s, transform 0.2s; 
            display: inline-block;
            border: none;
            cursor: pointer;
        }

        .cta-hero:hover {
            background-color: #fb8c00;
            transform: translateY(-2px); 
            box-shadow: 0 7px 20px rgba(255, 152, 0, 0.6);
        }

        /* --- About Section (Visi Misi) --- */
        .vm-grid {
            display: flex;
            gap: 30px;
            margin-top: 30px;
            text-align: left;
        }
        .vm-card {
            flex: 1;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        .vm-card h3 {
            color: #00bcd4;
            margin-bottom: 10px;
        }
        .vm-card ul {
            list-style: disc;
            padding-left: 20px;
        }
        
        /* --- Cerita/Testimoni (Penyempurnaan Card) --- */
        .story-grid {
            display: flex;
            gap: 30px;
            justify-content: center;
        }

        .story-card {
            flex: 1;
            max-width: 400px;
            padding: 25px;
            border-left: 5px solid #00bcd4; 
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }

        .story-card strong {
            display: block;
            margin-top: 15px;
            font-style: italic;
            color: #ff9800;
        }

        .story-card:hover {
            transform: translateY(-5px);
        }


        /* --- Status Donasi Global --- */
        .donation-status {
            text-align: center;
        }
        
        .donation-amount {
            font-size: 3em; 
            color: #ff9800;
            font-weight: 700;
            margin-bottom: 30px;
        }
        
        .progress-area {
            max-width: 600px;
            margin: 20px auto;
        }
        .global-progress-container {
            height: 20px;
            background-color: #ddd;
            border-radius: 10px;
            overflow: hidden;
        }
        
        #global-progress-bar {
            height: 100%;
            width: 0%;
            background-color: #00bcd4; 
            transition: width 1s ease-out;
        }

        .donatur-list-area {
            margin-top: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            text-align: left;
        }
        
        /* Tombol Reset */
        .reset-btn {
            background-color: #95a5a6; 
            color: white;
            padding: 10px 20px; 
            border: none;
            border-radius: 5px; 
            cursor: pointer;
            font-weight: 600;
            margin-top: 20px; 
            transition: background-color 0.3s;
        }
        .reset-btn:hover {
            background-color: #7f8c8d; 
        }
        
        /* List Donatur Juara (Top 3) */
        .donatur-list-area ul {
            list-style: none;
            padding-left: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .donatur-list-area ul li {
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1em;
            font-weight: 500;
            transition: transform 0.2s, box-shadow 0.3s;
        }
        
        .donatur-rank {
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: 700;
            color: white;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        /* Peringkat 1 (Emas) */
        .donatur-list-area ul li:nth-child(1) {
            border-left: 5px solid #ffcc00; 
            background-color: #fffde7;
            box-shadow: 0 4px 15px rgba(255, 204, 0, 0.3);
        }
        .donatur-list-area ul li:nth-child(1) .donatur-rank {
            background-color: #ffcc00; 
            color: #333;
        }
        
        /* Peringkat 2 (Perak) */
        .donatur-list-area ul li:nth-child(2) {
            border-left: 5px solid #c0c0c0; 
            background-color: #f5f5f5;
        }
        .donatur-list-area ul li:nth-child(2) .donatur-rank {
            background-color: #c0c0c0; 
            color: #333;
        }

        /* Peringkat 3 (Perunggu) */
        .donatur-list-area ul li:nth-child(3) {
            border-left: 5px solid #a97142; 
            background-color: #f0eae4;
        }
        .donatur-list-area ul li:nth-child(3) .donatur-rank {
            background-color: #a97142; 
        }

        /* Donatur Lainnya (Normal) */
        .donatur-list-area ul li:nth-child(n+4) {
            border-left: 5px solid #e0e0e0;
        }
        .donatur-list-area ul li:nth-child(n+4) .donatur-rank {
            background-color: #00bcd4; 
        }
        
        .donatur-info {
            flex-grow: 1;
            text-align: left;
        }
        .donatur-info strong {
            font-weight: 700;
        }


        /* --- Modal Donasi --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            padding-top: 60px;
            opacity: 0; 
            transition: opacity 0.3s ease-in-out;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }

        /* Input Styling */
        .modal-content label {
            display: block;
            margin-top: 10px;
            margin-bottom: 5px;
            font-weight: 600;
            color: #444;
        }
        
        .modal-content input[type="text"], 
        .modal-content input[type="number"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .modal-content input:focus {
            border-color: #00bcd4; 
            box-shadow: 0 0 8px rgba(0, 188, 212, 0.3);
            outline: none;
        }
        
        /* Pilihan Pembayaran Tombol */
        .payment-options input[type="radio"] {
            display: none; 
        }

        .payment-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }
        
        .payment-btn {
            background-color: #eee;
            color: #333;
            padding: 15px;
            border: 2px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            text-align: left;
            transition: all 0.2s ease-in-out;
            width: 100%; 
        }
        
        .payment-btn:hover {
            transform: translateY(-2px); 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .payment-btn.selected {
            background-color: #00bcd4; 
            color: white;
            border-color: #0079a0;
            box-shadow: 0 4px 10px rgba(0, 188, 212, 0.5); 
            font-weight: 700;
            transform: scale(1.02); /* Efek visual terpilih */
        }
        
        /* Tombol Submit di Modal */
        #submitDonation {
            background-color: #ff9800; 
            color: white;
            padding: 16px 20px; 
            margin-top: 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: 800; 
            font-size: 1.2em;
            transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s;
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.4); 
        }
        
        #submitDonation:hover {
            background-color: #fb8c00;
            transform: translateY(-2px); 
            box-shadow: 0 7px 20px rgba(255, 152, 0, 0.6);
        }

        /* Pesan Sukses (Di dalam Modal) */
        #successMessage {
            display: none;
            background-color: #e8f5e9;
            color: #2e7d32;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: left;
            border: 1px solid #c8e6c9;
            font-weight: 600;
        }

        /* --- Footer --- */
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 30px 0;
            font-size: 0.9em;
        }

        footer a {
            color: #00bcd4;
            text-decoration: none;
            transition: color 0.3s;
        }

        footer a:hover {
            color: #ff9800;
        }
        
        @media (max-width: 768px) {
            .vm-grid {
                flex-direction: column;
            }
            .story-grid {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

    <header class="main-header animated-element">
        <nav class="container">
            <h1 class="logo">Derma</h1>
            <ul>
                <li><a href="#home">Beranda</a></li>
                <li><a href="#about">Tentang Kami</a></li>
                <li><a href="#stories">Cerita & Testimoni</a></li>
                <li><a href="#status">Status Donasi</a></li>
                <li><a href="#" class="cta-header" id="nav-donate-btn">Beri Harapan</a></li>
            </ul>
        </nav>
    </header>
    
    <section id="home" class="hero">
        <div class="hero-bg"></div>
        <div class="hero-content container">
            <h1>Satu Klik, Ribuan Senyum</h1>
            <p>Jadilah agen perubahan hari ini. Bersama, kita wujudkan masa depan yang adil.</p>
            <button class="cta-hero" id="hero-donate-btn">Donasi Sekarang</button>
        </div>
    </section>

    <section id="about" class="about-us animated-element">
        <div class="container">
            <h2>Tentang Derma</h2>
            <div class="about-content">
                <p>**Derma** adalah yayasan sosial nirlaba yang berfokus pada pemerataan akses pendidikan dan sanitasi di wilayah terpencil Indonesia sejak tahun 2018. Kami percaya bahwa setiap anak berhak mendapatkan peluang yang sama untuk masa depan yang lebih cerah.</p>
                <p>Melalui program-program terstruktur, kami menjamin bahwa donasi Anda akan disalurkan ke penerima manfaat. Kami berkomitmen pada **transparansi** dan **akuntabilitas** dalam setiap langkah.</p>
            </div>
            
            <div class="vm-grid">
                <div class="vm-card animated-element" style="transition-delay: 0.1s;">
                    <h3>Visi</h3>
                    <p>Menjadi jembatan kebaikan terdepan di Indonesia, mewujudkan masyarakat yang berdaya dan sejahtera.</p>
                </div>
                <div class="vm-card animated-element" style="transition-delay: 0.2s;">
                    <h3>Misi</h3>
                    <ul>
                        <li>Menyediakan akses pendidikan dan sanitasi yang layak.</li>
                        <li>Membangun kemitraan strategis dengan komunitas lokal.</li>
                        <li>Menyelenggarakan program donasi yang transparan dan akuntabel.</li>
                        <li>Meningkatkan kesadaran masyarakat akan isu-isu sosial.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="stories" class="stories animated-element">
        <div class="container">
            <h2>Cerita dan Testimoni</h2>
            <div class="story-grid">
                <div class="story-card animated-element" style="transition-delay: 0.3s;">
                    <p>"Berkat bantuan sumur bor, kami tidak lagi harus berjalan 3 km hanya untuk mendapatkan air bersih. Ini mengubah hidup kami!"</p>
                    <strong>- Ibu Siti, Penerima Manfaat Program Air Bersih</strong>
                </div>
                <div class="story-card animated-element" style="transition-delay: 0.4s;">
                    <p>"Saya mendonasikan sebagian rezeki saya ke **Derma** karena laporannya selalu transparan dan dampak positifnya nyata. Sangat direkomendasikan."</p>
                    <strong>- Budi Santoso, Donatur Aktif</strong>
                </div>
            </div>
        </div>
    </section>

    <section id="status" class="donation-status animated-element">
        <div class="container">
            <h2>Status Donasi Global</h2>
            
            <div class="donation-target">
                Target Donasi Global: **Rp 100.000.000**
            </div>
            
            <div class="progress-area">
                <div class="global-progress-container">
                    <div id="global-progress-bar"></div>
                </div>
                <span id="progress-percentage">0% Terkumpul</span>
            </div>
            
            <h3>Total Dana Terkumpul</h3>
            <div class="donation-amount" id="total-donations" data-target-rupiah="0">Rp 0</div> 
            
            <button class="reset-btn" id="reset-donations">Reset Total Donasi</button>
            
            <div class="donatur-list-area">
                <h4>Papan Juara Donatur (Top 10)</h4>
                <ul id="donatur-list">
                    <li>Belum ada donasi. Jadilah donatur pertama!</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="impact" class="impact-section" style="background-color: #00bcd4; color: white; text-align: center;">
        <div class="container">
            <h2>Dampak Positif yang Sudah Kita Ciptakan</h2>
            <div class="impact-stats" style="display: flex; justify-content: space-around; flex-wrap: wrap; margin-top: 30px;">
                <div class="stat-item">
                    <span class="stat-number" data-count="3200" style="display: block; font-size: 4em; font-weight: 800; color: #FFEB3B; line-height: 1;">0</span>
                    <p style="font-size: 1.2em; font-weight: 600;">Penerima Manfaat</p>
                </div>
                <div class="stat-item">
                    <span class="stat-number" data-count="150" style="display: block; font-size: 4em; font-weight: 800; color: #FFEB3B; line-height: 1;">0</span>
                    <p style="font-size: 1.2em; font-weight: 600;">Relawan Aktif</p>
                </div>
                <div class="stat-item">
                    <span class="stat-number" data-count="18" style="display: block; font-size: 4em; font-weight: 800; color: #FFEB3B; line-height: 1;">0</span>
                    <p style="font-size: 1.2em; font-weight: 600;">Kampanye Berhasil</p>
                </div>
            </div>
        </div>
    </section>

    <div id="donationModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3>Beri Donasi Cepat</h3>
            <p>Pilih jumlah donasi dan metode pembayaran Anda.</p>
            
            <div id="successMessage"></div>

            <label for="name">Nama Anda (Opsional)</label>
            <input type="text" id="name" name="name" placeholder="Anonim">
            
            <label for="amount">Jumlah Donasi (IDR)</label>
            <input type="number" id="amount" name="amount" placeholder="Contoh: 50000" required>
            
            <div class="payment-options">
                <p style="margin-top: 15px; font-weight: 700;">Pilih Metode Pembayaran:</p>
                
                <div class="payment-buttons">
                    <button type="button" class="payment-btn" data-method="QRIS">QRIS (GoPay, OVO, Dana, LinkAja, dll.)</button>
                    <button type="button" class="payment-btn" data-method="Debit">Kartu Debit/Kredit (Visa/Mastercard)</button>
                    <button type="button" class="payment-btn" data-method="Transfer Bank">Transfer Bank Manual (BCA, Mandiri)</button>
                </div>
                
                <input type="radio" id="pay_qris" name="payment_method" value="QRIS" checked>
                <input type="radio" id="pay_debit" name="payment_method" value="Debit">
                <input type="radio" id="pay_transfer" name="payment_method" value="Transfer Bank">
                
            </div>
            
            <button id="submitDonation">Donasi Sekarang</button>
        </div>
    </div>
    
    <script>
        // Data inisial (Local Storage)
        const storageKeyTotal = 'totalDonasiDerma'; // Ganti nama key agar unik
        const storageKeyDonors = 'donaturListDerma'; // Ganti nama key agar unik
        
        let totalDonations = parseInt(localStorage.getItem(storageKeyTotal)) || 0;
        let donaturList = JSON.parse(localStorage.getItem(storageKeyDonors)) || [];
        
        const GLOBAL_TARGET = 100000000;
        
        // Fungsi untuk format mata uang (IDR)
        const formatCurrency = (amount) => {
            return 'Rp ' + amount.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        };
        
        // Fungsi untuk memperbarui tampilan Donasi
        const updateDonationStatus = () => {
            const totalDonationsElement = document.getElementById('total-donations');
            const progressBar = document.getElementById('global-progress-bar');
            const percentageText = document.getElementById('progress-percentage');
            const listElement = document.getElementById('donatur-list');
            
            // Update total donasi
            totalDonationsElement.textContent = formatCurrency(totalDonations);

            // Update progress bar
            const percentage = Math.min(100, (totalDonations / GLOBAL_TARGET) * 100); 
            progressBar.style.width = percentage.toFixed(2) + '%';
            percentageText.textContent = `${percentage.toFixed(2)}% Terkumpul`;

            // --- Logika Pengurutan dan Tampilan Juara ---
            
            listElement.innerHTML = ''; 
            
            if (donaturList.length === 0) {
                listElement.innerHTML = '<li>Belum ada donasi. Jadilah donatur pertama!</li>';
                return;
            }

            // 1. Urutkan daftar donatur dari yang terbesar ke terkecil
            const sortedDonors = [...donaturList].sort((a, b) => b.amount - a.amount);
            
            // 2. Ambil 10 donatur teratas untuk ditampilkan
            const topDonors = sortedDonors.slice(0, 10);
            
            topDonors.forEach((donor, index) => {
                const listItem = document.createElement('li');
                const rank = index + 1;
                const formattedAmount = formatCurrency(donor.amount);
                
                // Tentukan konten rank (ikon untuk Top 3)
                let rankContent;
                if (rank === 1) {
                    rankContent = '<i class="fas fa-trophy"></i> #1';
                } else if (rank === 2) {
                    rankContent = '<i class="fas fa-medal"></i> #2';
                } else if (rank === 3) {
                    rankContent = '<i class="fas fa-ribbon"></i> #3';
                } else {
                    rankContent = `#${rank}`;
                }

                listItem.innerHTML = `
                    <div class="donatur-rank">${rankContent}</div>
                    <div class="donatur-info">
                        <strong>${donor.name}</strong> mendonasikan ${formattedAmount} (via ${donor.method})
                    </div>
                `;
                listElement.appendChild(listItem);
            });
        };

        // Animasi Penghitung Angka (Counter Up) for Impact Section
        const countUp = (element, target) => {
            const duration = 2000;
            const start = performance.now();

            function step(timestamp) {
                const elapsed = timestamp - start;
                const progress = Math.min(1, elapsed / duration);
                const currentValue = progress * target;
                
                element.textContent = Math.floor(currentValue).toLocaleString('id-ID');
                
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            }
            window.requestAnimationFrame(step);
        };
        
        // --- FUNGSI BARU UNTUK ANIMASI SCROLL ---
        const setupScrollAnimation = () => {
            // Target semua elemen yang perlu dianimasikan (kecuali Hero, yang langsung)
            const animatedElements = document.querySelectorAll('.animated-element');
            
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        // Opsional: Hentikan observasi setelah animasi pertama kali muncul
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1, // Pemicu saat 10% elemen terlihat
                rootMargin: '0px 0px -50px 0px' // Sedikit terlambat dari bawah
            });

            animatedElements.forEach(element => {
                observer.observe(element);
            });
            
            // Panggil langsung animasi untuk Hero dan Navbar saat DOMContentLoaded
            document.querySelector('.hero-content').classList.add('fade-in');
            document.querySelector('.main-header').classList.add('fade-in');

        };


        document.addEventListener('DOMContentLoaded', () => {
            
            updateDonationStatus();
            setupScrollAnimation(); // Panggil fungsi animasi

            const modal = document.getElementById("donationModal");
            const openBtns = document.querySelectorAll('#hero-donate-btn, #nav-donate-btn'); 
            const closeBtn = document.querySelector(".close-btn");
            const submitBtn = document.getElementById("submitDonation");
            const paymentButtons = document.querySelectorAll('.payment-btn');
            const successMessageDiv = document.getElementById('successMessage');

            // Set default payment method styling on load
            const defaultButton = document.querySelector('.payment-btn[data-method="QRIS"]');
            if (defaultButton) {
                defaultButton.classList.add('selected');
                document.getElementById('pay_qris').checked = true;
            }

            // Payment button click handler
            paymentButtons.forEach(button => {
                button.addEventListener('click', function() {
                    paymentButtons.forEach(btn => btn.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    const selectedMethod = this.getAttribute('data-method');
                    document.querySelector(`input[value="${selectedMethod}"]`).checked = true;
                });
            });


            // Open modal logic
            openBtns.forEach(btn => { 
                btn.onclick = (e) => { 
                    e.preventDefault(); 
                    successMessageDiv.style.display = 'none'; // Sembunyikan pesan sukses
                    modal.style.display = "block"; 
                    setTimeout(() => { modal.style.opacity = '1'; }, 10); 
                } 
            });

            // Close modal logic
            const closeModal = () => {
                modal.style.opacity = '0';
                setTimeout(() => { 
                    modal.style.display = "none"; 
                    successMessageDiv.style.display = 'none'; // Sembunyikan pesan saat modal ditutup
                    // Reset fields
                    document.getElementById('amount').value = '';
                    document.getElementById('name').value = '';

                    // Reset payment selection (visual & radio)
                    paymentButtons.forEach(btn => btn.classList.remove('selected'));
                    defaultButton.classList.add('selected');
                    document.getElementById('pay_qris').checked = true;

                }, 300);
            };

            closeBtn.onclick = closeModal;

            window.onclick = (event) => { 
                if (event.target == modal) { 
                    closeModal();
                } 
            }
            
            // Submit donation handler
            submitBtn.onclick = function() {
                const amountInput = document.getElementById('amount');
                const nameInput = document.getElementById('name');
                const amount = parseInt(amountInput.value);
                const name = nameInput.value.trim() || 'Anonim';
                
                const selectedMethodInput = document.querySelector('input[name="payment_method"]:checked');
                const paymentMethod = selectedMethodInput ? selectedMethodInput.value : null;

                
                if (!amount || amount < 1000) {
                    alert('Mohon masukkan jumlah donasi minimal Rp 1.000.');
                    return;
                }
                
                if (!paymentMethod) {
                    alert('Mohon pilih salah satu metode pembayaran.');
                    return;
                }
                
                // Process Donation
                totalDonations += amount;
                
                donaturList.push({ 
                    name: name, 
                    amount: amount, 
                    method: paymentMethod, 
                    timestamp: new Date().toISOString() 
                });
                
                // Save to localStorage
                localStorage.setItem(storageKeyTotal, totalDonations);
                localStorage.setItem(storageKeyDonors, JSON.stringify(donaturList));

                updateDonationStatus();
                
                // Show Success Message (instead of alert)
                successMessageDiv.innerHTML = `
                    **Selamat!** Donasi Anda sebesar **${formatCurrency(amount)}** berhasil diterima. Terima kasih atas kebaikan Anda!
                    <br>Nama Donatur: ${name} (via ${paymentMethod})
                `;
                successMessageDiv.style.display = 'block';

                // Reset form fields immediately
                amountInput.value = '';
                nameInput.value = '';

                // Close modal after a delay (optional, or let user close manually after seeing success)
                // setTimeout(closeModal, 4000); 
            }

            // Reset donations handler
            document.getElementById('reset-donations').onclick = function() {
                if (confirm("Apakah Anda yakin ingin MERESET TOTAL DONASI dan DAFTAR DONATUR? Tindakan ini tidak dapat dibatalkan.")) {
                    totalDonations = 0;
                    donaturList = [];
                    localStorage.removeItem(storageKeyTotal);
                    localStorage.removeItem(storageKeyDonors);
                    document.getElementById('total-donations').setAttribute('data-target-rupiah', 0);
                    updateDonationStatus();
                    alert("Total donasi dan daftar donatur berhasil di-reset.");
                }
            }

            // Inisialisasi animasi hitungan (Impact Section)
            const impactSection = document.querySelector('#impact'); 
            if (impactSection) {
                let hasAnimated = false;
                const observerImpact = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !hasAnimated) {
                            const statItems = document.querySelectorAll('.stat-number');
                            statItems.forEach(item => {
                                const target = parseInt(item.getAttribute('data-count'));
                                countUp(item, target);
                            });
                            hasAnimated = true; 
                            observerImpact.unobserve(impactSection); 
                        }
                    });
                }, { threshold: 0.5 });
                observerImpact.observe(impactSection);
            }
        });
    </script>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Derma. Yayasan Kebaikan Bersama. | 
                <a href="#">Kebijakan Privasi</a> | 
                <a href="#">Hubungi Kami</a>
            </p>
        </div>
    </footer>
</body>
</html>